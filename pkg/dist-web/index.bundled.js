function e(e,t,n,r,o,a,i){try{var c=e[a](i),d=c.value}catch(e){return void n(e)}c.done?t(d):Promise.resolve(d).then(r,o)}function t(t){return function(){var n=this,r=arguments;return new Promise((function(o,a){var i=t.apply(n,r);function c(t){e(i,o,a,c,d,"next",t)}function d(t){e(i,o,a,c,d,"throw",t)}c(void 0)}))}}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){return e?Array.from(e).reduce((e,t)=>{var o,{localName:a,value:i}=t;return function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},e,{[(o=a,o.replace(/(-)([a-z])/g,e=>e[1].toUpperCase()))]:i})},{}):{}}function a(e){return[...document.createRange().createContextualFragment(e).children]}function i(e){var t="is"in e?e.is:e.prototype.constructor.name,n=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return customElements.define(n,e),n}!function(){if(!("adoptedStyleSheets"in document)){var e="ShadyCSS"in window&&!window.ShadyCSS.nativeShadow,t=[],n=[],r=new WeakMap,o=new WeakMap,a=new WeakMap,i=new WeakMap,c=new WeakMap,d={loaded:!1},s={body:null,CSSStyleSheet:null},l=CSSStyleSheet,h=/@import/,u=["addImport","addPageRule","addRule","deleteRule","insertRule","removeImport","removeRule"],p=["replace","replaceSync"],f=function(){function e(){var e=document.createElement("style");d.loaded?s.body.appendChild(e):(document.head.appendChild(e),e.disabled=!0,t.push(e));var n=e.sheet;return o.set(n,{adopters:new Map,actions:[],basicStyleElement:e}),n}var n=e.prototype;return n.replace=function(e){var t=this;return new Promise((function(n,r){if(o.has(t)){var a=o.get(t).basicStyleElement;a.innerHTML=e,n(a.sheet),g(t)}else r(new Error("Failed to execute 'replace' on 'CSSStyleSheet': Can't call replace on non-constructed CSSStyleSheets."))}))},n.replaceSync=function(e){if(h.test(e))throw new Error("@import rules are not allowed when creating stylesheet synchronously");if(o.has(this)){var t=o.get(this).basicStyleElement;return t.innerHTML=e,g(this),t.sheet}throw new Error("Failed to execute 'replaceSync' on 'CSSStyleSheet': Can't call replaceSync on non-constructed CSSStyleSheets.")},e}();Object.defineProperty(f,Symbol.hasInstance,{configurable:!0,value:S}),v(l.prototype),window.CSSStyleSheet=f,function(){var t={configurable:!0,get:function(){return r.get(this)||[]},set:function(e){var t=r.get(this)||[];!function(e,t){var n=t===document?"Document":"ShadowRoot";if(!Array.isArray(e))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Iterator getter is not callable.");if(!e.every(S))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Failed to convert value to 'CSSStyleSheet'");var o=e.filter((function(t,n){return e.indexOf(t)===n}));r.set(t,o)}(e,this);var n=this===document?y()?this.head:this.body:this;("isConnected"in n?n.isConnected:document.body.contains(n))&&(b(n),function(e,t){for(var n=m(e),r=0,a=t.length;r<a;r++){if(n.indexOf(t[r])>-1)return;var c=o.get(t[r]).adopters,d=i.get(e),s=c.get(e);d.disconnect(),s.parentNode.removeChild(s),d.observe()}}(n,t))}};if(Object.defineProperty(Document.prototype,"adoptedStyleSheets",t),"undefined"!=typeof ShadowRoot){var n=HTMLElement.prototype.attachShadow;HTMLElement.prototype.attachShadow=function(){var t=e?this:n.apply(this,arguments);return C(t),t},Object.defineProperty(ShadowRoot.prototype,"adoptedStyleSheets",t)}}(),y()?document.addEventListener("DOMContentLoaded",M):M()}function S(e){return e instanceof l||e instanceof s.CSSStyleSheet}function y(){return"loading"===document.readyState}function m(e){return r.get(e.parentNode===document.documentElement?document:e)}function v(e){p.forEach((function(t){e[t]=function(){return f.prototype[t].apply(this,arguments)}})),u.forEach((function(t){var n=e[t];e[t]=function(){var e=arguments,r=n.apply(this,e);if(o.has(this)){var a=o.get(this),i=a.adopters,c=a.actions;i.forEach((function(n){n.sheet&&n.sheet[t].apply(n.sheet,e)})),c.push([t,e])}return r}}))}function g(e){var t=o.get(e),n=t.adopters,r=t.basicStyleElement;n.forEach((function(e){e.innerHTML=r.innerHTML}))}function b(e){for(var t=document.createDocumentFragment(),r=m(e),d=i.get(e),s=0,l=r.length;s<l;s++){var h=o.get(r[s]),u=h.adopters,p=h.basicStyleElement,f=u.get(e);f?(d.disconnect(),t.appendChild(f),(!f.innerHTML||f.sheet&&!f.sheet.cssText)&&(f.innerHTML=p.innerHTML),d.observe()):((f=document.createElement("style")).innerHTML=p.innerHTML,a.set(f,e),c.set(f,0),u.set(e,f),t.appendChild(f)),e===document.head&&n.push(f)}e.insertBefore(t,e.lastChild);for(var S=0,y=r.length;S<y;S++){var v=o.get(r[S]),g=v.adopters,b=v.actions,w=g.get(e),C=c.get(w);if(b.length>0){for(var M=C,E=b.length;M<E;M++){var O=b[M],P=O[0],T=O[1];w.sheet[P].apply(w.sheet,T)}c.set(w,b.length-1)}}}function w(t){for(var n=0,r=t.length;n<r;n++){for(var o=t[n],i=o.addedNodes,c=o.removedNodes,d=0,s=c.length;d<s;d++){var l=a.get(c[d]);l&&b(l)}if(!e)for(var h=0,u=i.length;h<u;h++)for(var p=document.createNodeIterator(i[h],NodeFilter.SHOW_ELEMENT,(function(e){return e.shadowRoot&&e.shadowRoot.adoptedStyleSheets.length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}),null,!1),f=void 0;f=p.nextNode();)b(f.shadowRoot)}}function C(e){var t=new MutationObserver(w),n={observe:function(){t.observe(e,{childList:!0,subtree:!0})},disconnect:function(){t.disconnect()}};i.set(e,n),n.observe()}function M(){var e=document.createElement("iframe");e.hidden=!0,document.body.appendChild(e),s.body=e.contentWindow.document.body,s.CSSStyleSheet=e.contentWindow.CSSStyleSheet,v(e.contentWindow.CSSStyleSheet.prototype),C(document.body),d.loaded=!0;for(var r=document.createDocumentFragment(),o=0,a=t.length;o<a;o++)t[o].disabled=!1,r.appendChild(t[o]);s.body.appendChild(r);for(var i=0,c=n.length;i<c;i++)r.appendChild(n[i]);document.body.insertBefore(r,document.body.firstChild),t.length=0,n.length=0}}();var c={},d={};class s extends HTMLElement{constructor(e){super(),e?this.componentPath=e:(console.warn("You did not send a path to the super method in your constructor. Thus CSS and HTML cannot be read for this component.",this),console.warn("If shipping for modern browser, then call super with import.meta.url. If not, specify a path that is similar to import.meta.url yourself."),console.warn("Should be the path to the component you are making."))}$(e){return this._sDOM.querySelector(e)}get cssPath(){return this.componentPath&&this.componentPath.replace(/\.js/gi,".css")}get htmlPath(){return this.componentPath.replace(/\.js/gi,".html")}get props(){return o(this.attributes)}_render(){var e=this;return t((function*(){var t=new DocumentFragment;if(!d[e.cssPath]&&e.cssPath){var n=yield e.fetchCSSAsStyleSheet();e._sDOM.adoptedStyleSheets=[n]}return a(e.render(e.props)).forEach(e=>t.appendChild(e)),t.cloneNode(!0)}))()}fetchHTMLAsDocFrag(){var e=this;return t((function*(){var t=new DocumentFragment,n=yield fetch(e.htmlPath);n.ok&&a(yield n.text()).forEach(e=>t.appendChild(e));return t}))()}fetchCSSAsStyleSheet(){var e=this;return t((function*(){var t=new CSSStyleSheet,n=yield fetch(e.cssPath);if(n.ok&&-1!==n.headers.get("content-type").indexOf("text/css")){var r=yield n.text();yield t.replace(r)}return t}))()}_renderHTMLFile(){var e=this;return t((function*(){var t=btoa(e.componentPath);c[t]||(c[t]=Promise.all([e.fetchHTMLAsDocFrag(),e.fetchCSSAsStyleSheet()]));var[n,r]=yield c[t];return e._sDOM.adoptedStyleSheets=[r],n.cloneNode(!0)}))()}componentDidMount(){}connectedCallback(){var e=this;return t((function*(){var t;e._sDOM=e.attachShadow({mode:"closed"}),t=e.render?yield e._render():yield e._renderHTMLFile(),e._sDOM.innerHTML=null,e._sDOM.appendChild(t),requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.componentDidMount&&e.componentDidMount()})})}))()}}export{s as Component,i as registerComponent,a as stringToElements};
//# sourceMappingURL=index.bundled.js.map
